# IntraSphere - Configuration Apache pour OVH
# Optimisé pour l'hébergement mutualisé OVH

RewriteEngine On

# Protection des fichiers sensibles
<Files ".env">
    Order deny,allow
    Deny from all
</Files>

<Files "*.sql">
    Order deny,allow  
    Deny from all
</Files>

# Protection des dossiers
<IfModule mod_authz_core.c>
    <DirectoryMatch "(config|logs|tmp|src)">
        Require all denied
    </DirectoryMatch>
</IfModule>

<IfModule !mod_authz_core.c>
    <DirectoryMatch "(config|logs|tmp|src)">
        Order deny,allow
        Deny from all
    </DirectoryMatch>
</IfModule>

# Optimisations pour OVH
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/jpg "access plus 1 month" 
    ExpiresByType image/jpeg "access plus 1 month"
</IfModule>